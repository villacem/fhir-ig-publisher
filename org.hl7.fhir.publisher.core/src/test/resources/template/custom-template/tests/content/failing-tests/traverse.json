{
  "title": "traverse",
  "description": "...",
  "resources": [
    {
      "resourceType": "Patient",
      "id": "pt1",
      "birthDate": "1980",
      "identifier": [
        {
          "value": "ssn1"
        }
      ]
    },
    {
      "resourceType": "Patient",
      "id": "pt2",
      "identifier": [
        {
          "value": "ssn2.1"
        },
        {
          "value": "ssn2.3"
        }
      ]
    }
  ],
  "tests": [
    {
      "title": "...",
      "description": " ",
      "view": {
        "resource": "Patient",
        "select": [
          { "path": "id" },
          { "path": "birthDate" },
          { "path": "identifier.value.first()", "alias": "identifier" }
        ]
      },
      "expect": [
        { "id": "pt1", "identifier": "ssn1.1", "birthDate": "1980" },
        { "id": "pt2", "identifier": "ssn2.1", "bithDate": null }
      ]
    },
    {
      "title": "by default it fails in runtime",
      "description": "Should fail in runtime or compilation if path expression returns or may return more than one element",
      "view": {
        "resource": "Patient",
        "select": [
          { "path": "id" },
          { "path": "birthDate" },
          { "path": "identifier.value", "alias": "identifier" }
        ]
      },
      "expectError": {
        "description": "Runtime Or Compile-time error"
      }
    },
    {
      "title": "return collection",
      "description": "Explicitly specify collection should be returned ",
      "view": {
        "resource": "Patient",
        "select": [
          { "path": "id" },
          {
            "path": "identifier.value",
            "alias": "identifier",
            "return": "collection"
          }
        ]
      },
      "expect": [
        { "id": "pt1", "identifier": ["ssn1.1"] },
        { "id": "pt2", "identifier": ["ssn2.1", "ssn2.2"] }
      ]
    }
  ]
}
